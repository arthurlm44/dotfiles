---
- name: ensure presence of baseline packages
  become: true
  package: name={{ item }} state=latest
  with_items:
    - git
    - curl

- name: install vim
  become: true
  package: name=vim state=latest

- name: setup for vimrc
  file: state=directory path=~/.tmp/{{ item }} 
  with_items:
    - "undo"
    - "backup"
    - "swap"

- name: install vim plugged
  shell: "curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"

- name: install vimrc
  copy: src=vimrc dest=~/.vimrc
